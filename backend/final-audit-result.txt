node.exe : (node:7532) [MONGOOSE] Warning: Duplicate schema index on {"reviewToken":1} found. 
This is often due to declaring an index using both "index: true" and "schema.index()". Please 
remove the duplicate index definition.
En línea: 1 Carácter: 1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ((node:7532) [MO...dex definition.:String) [], Rem 
   oteException
    + FullyQualifiedErrorId : NativeCommandError
 
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7532) [MONGOOSE] Warning: Duplicate schema index on {"numeroPedido":1} found. This is 
often due to declaring an index using both "index: true" and "schema.index()". Please remove 
the duplicate index definition.
(node:7532) [MONGOOSE] Warning: Duplicate schema index on {"expiraEn":1} found. This is often 
due to declaring an index using both "index: true" and "schema.index()". Please remove the 
duplicate index definition.
(node:7532) [MONGOOSE] Warning: Duplicate schema index on {"reviewToken":1} found. This is 
often due to declaring an index using both "index: true" and "schema.index()". Please remove 
the duplicate index definition.
FAIL tests/resenas.test.js
  ÔùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (13) from .env -- tip: ƒôí add observability to secrets: 
https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ POST /api/public/:slug/resenas - Crear Rese├▒a ÔÇ║ Debe 
crear una rese├▒a con token v├ílido

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ POST /api/public/:slug/resenas - Crear Rese├▒a ÔÇ║ Debe 
rechazar rese├▒a sin token

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ POST /api/public/:slug/resenas - Crear Rese├▒a ÔÇ║ Debe 
rechazar rese├▒a con token inv├ílido

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ POST /api/public/:slug/resenas - Crear Rese├▒a ÔÇ║ Debe 
rechazar rese├▒a duplicada

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ POST /api/public/:slug/resenas - Crear Rese├▒a ÔÇ║ Debe 
rechazar rese├▒a sin calificaci├│n general

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ GET /api/public/:slug/resenas/validar-token - Validar 
Token ÔÇ║ Debe validar token correcto

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ GET /api/public/:slug/resenas/validar-token - Validar 
Token ÔÇ║ Debe rechazar token inv├ílido

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ GET /api/public/:slug/resenas - Listar Rese├▒as 
P├║blicas ÔÇ║ Debe listar solo rese├▒as aprobadas

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ GET /api/public/:slug/resenas - Listar Rese├▒as 
P├║blicas ÔÇ║ Debe calcular promedio correctamente

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ GET /api/admin/resenas/pendientes - Listar Pendientes 
(Admin) ÔÇ║ Debe listar rese├▒as pendientes con autenticaci├│n

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ GET /api/admin/resenas/pendientes - Listar Pendientes 
(Admin) ÔÇ║ Debe rechazar sin autenticaci├│n

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ PATCH /api/admin/resenas/:id/aprobar - Aprobar Rese├▒a 
ÔÇ║ Debe aprobar rese├▒a correctamente

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ PATCH /api/admin/resenas/:id/aprobar - Aprobar Rese├▒a 
ÔÇ║ Debe rechazar sin autenticaci├│n

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ GET /api/admin/resenas/estadisticas - Estad├¡sticas ÔÇ║ 
Debe retornar estad├¡sticas correctas

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ Multitenancy - Aislamiento de Datos ÔÇ║ Barber├¡a 1 solo 
debe ver sus propias rese├▒as

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)

  ÔùÅ Sistema de Rese├▒as - Tests ÔÇ║ Multitenancy - Aislamiento de Datos ÔÇ║ Barber├¡a 2 solo 
debe ver sus propias rese├▒as

    ReferenceError: connectDB is not defined

    [0m [90m 20 |[39m     beforeAll([36masync[39m () [33m=>[39m {
     [90m 21 |[39m         [90m// Usar conexi├│n global de setup.js[39m
    [31m[1m>[22m[39m[90m 22 |[39m         [36mawait[39m connectDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 23 |[39m     })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:22:9)


  ÔùÅ Test suite failed to run

    ReferenceError: closeDB is not defined

    [0m [90m 25 |[39m     afterAll([36masync[39m () [33m=>[39m {
     [90m 26 |[39m         [90m// Limpiar y cerrar conexi├│n usando setup.js[39m
    [31m[1m>[22m[39m[90m 27 |[39m         [36mawait[39m closeDB()[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 28 |[39m     })[33m;[39m
     [90m 29 |[39m
     [90m 30 |[39m     beforeEach([36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/resenas.test.js:27:9)

(node:7532) [MONGOOSE] Warning: Duplicate schema index on {"reviewToken":1} found. This is 
often due to declaring an index using both "index: true" and "schema.index()". Please remove 
the duplicate index definition.
(node:7532) [MONGOOSE] Warning: Duplicate schema index on {"numeroPedido":1} found. This is 
often due to declaring an index using both "index: true" and "schema.index()". Please remove 
the duplicate index definition.
(node:7532) [MONGOOSE] Warning: Duplicate schema index on {"expiraEn":1} found. This is often 
due to declaring an index using both "index: true" and "schema.index()". Please remove the 
duplicate index definition.
(node:7532) [MONGOOSE] Warning: Duplicate schema index on {"reviewToken":1} found. This is 
often due to declaring an index using both "index: true" and "schema.index()". Please remove 
the duplicate index definition.
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 98.972 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 93.245 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 91.903 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 90.768 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 89.860 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 99.323 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 98.574 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 97.698 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 96.593 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar [31m500[0m 95.131 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 1.571 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.418 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.371 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.355 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.349 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.336 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.365 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.334 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.399 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.359 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.339 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.426 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.341 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.352 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.328 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.330 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.328 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.358 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.346 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.338 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.349 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.495 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.402 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.524 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.374 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.338 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.332 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.328 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.339 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [33m429[0m 0.325 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 149.001 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 148.085 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 147.324 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 146.615 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 145.943 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 155.617 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 158.287 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 157.813 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 157.031 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 156.195 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 155.319 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 154.742 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 154.215 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 153.693 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 153.242 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 156.829 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 156.432 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 155.980 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 152.864 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar [31m500[0m 152.128 ms - 827[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519486b/reservar [33m429[0m 0.421 ms - 61[0m
FAIL tests/race-condition-stress.test.js
  ÔùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (13) from .env -- tip: ÔÜÖ´©Å  write to custom object with 
{ processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc255194755/reservar

      at log (src/app.js:98:11)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.184Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.185Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.186Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.187Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.188Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.197Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.198Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.198Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.199Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.200Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.log
      Ô£à Exitosos: 0

      at Object.log (tests/race-condition-stress.test.js:84:21)

    console.log
      ÔØî Fallidos: 10

      at Object.log (tests/race-condition-stress.test.js:85:21)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc2551947a5/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc2551947a5/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Started: CreateReservation (attempt 1/3)

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:54:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.424Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.424Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.425Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.426Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.427Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.431Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.432Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.433Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.434Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.435Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.435Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.436Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.437Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.437Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.438Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.log
      [Transaction] Aborted: CreateReservation

      at Function.log [as executeInTransaction] (src/utils/TransactionManager.js:69:29)

    console.error
      [Transaction] Failed: CreateReservation {
        error: 'Transaction numbers are only allowed on a replica set member or mongos',
        attempt: 1,
        stack: 'MongoServerError: Transaction numbers are only allowed on a replica set member 
or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 80 |[39m
     [90m 81 |[39m                 [90m// Non-transient error or max retries reached[39m
    [31m[1m>[22m[39m[90m 82 |[39m                 
console[33m.[39merror([32m`[Transaction] Failed: ${operationName}`[39m[33m,[39m {
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 83 |[39m                     error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 84 |[39m                     attempt[33m:[39m attempt [33m+[39m 
[35m1[39m[33m,[39m
     [90m 85 |[39m                     stack[33m:[39m error[33m.[39mstack[0m

      at Function.error [as executeInTransaction] (src/utils/TransactionManager.js:82:25)
      at CreateReserva.execute (src/application/use-cases/reservas/CreateReserva.js:26:34)
      at Object.<anonymous>.exports.crearReservaBySlug 
(src/controllers/public.controller.js:140:25)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.451Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.452Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.452Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.453Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.error
      ƒö┤ ERROR: TransactionError: Transaction failed for CreateReservation: Transaction 
numbers are only allowed on a replica set member or mongos
          at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:88:42)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applicati
on\use-cases\reservas\CreateReserva.js:26:34)
          at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
        isTransactionError: true,
        originalError: MongoServerError: Transaction numbers are only allowed on a replica set 
member or mongos
            at Connection.sendCommand (C:\Users\Kristian\Desktop\barber-saas\backend\node_modul
es\mongodb\src\cmap\connection.ts:557:17)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at Connection.command (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\m
ongodb\src\cmap\connection.ts:627:22)
            at Server.command 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\sdam\server.ts:350:21)
            at tryOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb
\src\operations\execute_operation.ts:293:24)
            at executeOperation (C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mon
godb\src\operations\execute_operation.ts:123:12)
            at Collection.insertOne 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongodb\src\collection.ts:294:12)
            at model.$__save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:398:16)
            at model.save 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:609:5)
            at 
C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2722:9
            at async Promise.all (index 0)
            at Function.create 
(C:\Users\Kristian\Desktop\barber-saas\backend\node_modules\mongoose\lib\model.js:2707:11)
            at MongoReservaRepository.save (C:\Users\Kristian\Desktop\barber-saas\backend\src\i
nfrastructure\database\mongodb\repositories\MongoReservaRepository.js:15:16)
            at TransactionManager.executeInTransaction.operationName (C:\Users\Kristian\Desktop
\barber-saas\backend\src\application\use-cases\reservas\CreateReserva.js:72:42)
            at Function.executeInTransaction 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\utils\TransactionManager.js:57:32)
            at CreateReserva.execute (C:\Users\Kristian\Desktop\barber-saas\backend\src\applica
tion\use-cases\reservas\CreateReserva.js:26:34)
            at Object.<anonymous>.exports.crearReservaBySlug 
(C:\Users\Kristian\Desktop\barber-saas\backend\src\controllers\public.controller.js:140:25) {
          errorLabelSet: Set(0) {},
          errorResponse: {
            ok: 0,
            errmsg: 'Transaction numbers are only allowed on a replica set member or mongos',
            code: 20,
            codeName: 'IllegalOperation'
          },
          ok: 0,
          code: 20,
          codeName: 'IllegalOperation'
        },
        context: { operationName: 'CreateReservation', attempt: 1 },
        timestamp: 2026-02-10T02:18:49.454Z,
        originalStack: 'MongoServerError: Transaction numbers are only allowed on a replica 
set member or mongos\n' +
          '    at Connection.sendCommand (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\n
ode_modules\\mongodb\\src\\cmap\\connection.ts:557:17)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Connection.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_
modules\\mongodb\\src\\cmap\\connection.ts:627:22)\n' +
          '    at Server.command (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modu
les\\mongodb\\src\\sdam\\server.ts:350:21)\n' +
          '    at tryOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_module
s\\mongodb\\src\\operations\\execute_operation.ts:293:24)\n' +
          '    at executeOperation (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mo
dules\\mongodb\\src\\operations\\execute_operation.ts:123:12)\n' +
          '    at Collection.insertOne (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\nod
e_modules\\mongodb\\src\\collection.ts:294:12)\n' +
          '    at model.$__save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modul
es\\mongoose\\lib\\model.js:398:16)\n' +
          '    at model.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\
\mongoose\\lib\\model.js:609:5)\n' +
          '    at C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_modules\\mongoose\\l
ib\\model.js:2722:9\n' +
          '    at async Promise.all (index 0)\n' +
          '    at Function.create (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\node_mod
ules\\mongoose\\lib\\model.js:2707:11)\n' +
          '    at MongoReservaRepository.save (C:\\Users\\Kristian\\Desktop\\barber-saas\\backe
nd\\src\\infrastructure\\database\\mongodb\\repositories\\MongoReservaRepository.js:15:16)\n' +
          '    at TransactionManager.executeInTransaction.operationName (C:\\Users\\Kristian\\D
esktop\\barber-saas\\backend\\src\\application\\use-cases\\reservas\\CreateReserva.js:72:42)\n'
 +
          '    at Function.executeInTransaction (C:\\Users\\Kristian\\Desktop\\barber-saas\\bac
kend\\src\\utils\\TransactionManager.js:57:32)\n' +
          '    at CreateReserva.execute (C:\\Users\\Kristian\\Desktop\\barber-saas\\backend\\sr
c\\application\\use-cases\\reservas\\CreateReserva.js:26:34)\n' +
          '    at Object.<anonymous>.exports.crearReservaBySlug (C:\\Users\\Kristian\\Desktop\\
barber-saas\\backend\\src\\controllers\\public.controller.js:140:25)'
      }

    [0m [90m 4 |[39m
     [90m 5 |[39m [36mconst[39m errorHandler [33m=[39m (err[33m,[39m req[33m,[39m 
res[33m,[39m next) [33m=>[39m {
    [31m[1m>[22m[39m[90m 6 |[39m   console[33m.[39merror([32m"ƒö┤ 
ERROR:"[39m[33m,[39m err)[33m;[39m
     [90m   |[39m           [31m[1m^[22m[39m
     [90m 7 |[39m
     [90m 8 |[39m   [90m// ­ƒöÑ A├æADIR HEADERS CORS SI NO EXISTEN[39m
     [90m 9 |[39m   [36mconst[39m origin [33m=[39m 
req[33m.[39mheaders[33m.[39morigin[33m;[39m[0m

      at error (src/config/middleware/errorHandler.js:6:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at Immediate.next (node_modules/router/index.js:291:5)
      at Immediate._onImmediate (node_modules/router/index.js:688:15)

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519486b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519486b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      ƒôí [POST] /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar

      at log (src/app.js:98:11)

    console.warn
      ÔÜá´©Å  [Security] Rate limit exceeded {
        ip: '::ffff:127.0.0.1',
        method: 'POST',
        path: '/test-barberia/barberos/698a9589bf527bc25519488b/reservar',
        max: 30
      }

    [0m [90m 38 |[39m [90m     */[39m
     [90m 39 |[39m     [36mstatic[39m warn(context[33m,[39m message[33m,[39m metadata 
[33m=[39m {}) {
    [31m[1m>[22m[39m[90m 40 |[39m         console[33m.[39mwarn([32m`ÔÜá´©Å  
[${context}] ${message}`[39m[33m,[39m metadata)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m     }
     [90m 42 |[39m
     [90m 43 |[39m     [90m/**[39m[0m

      at Function.warn (src/shared/Logger.js:40:17)
      at Object.warn [as handler] (src/middleware/rateLimit.middleware.js:18:20)
      at node_modules/express-rate-limit/dist/index.cjs:939:16
      at node_modules/express-rate-limit/dist/index.cjs:825:5

    console.warn
      ÔÜá´©Å MongoDB desconectado

    [0m [90m 89 |[39m   
mongoose[33m.[39mconnection[33m.[39mon([32m'disconnected'[39m[33m,[39m () [33m=>[39m 
{
     [90m 90 |[39m     isConnected [33m=[39m [36mfalse[39m[33m;[39m
    [31m[1m>[22m[39m[90m 91 |[39m     console[33m.[39mwarn([32m'ÔÜá´©Å MongoDB 
desconectado'[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 92 |[39m   })[33m;[39m
     [90m 93 |[39m
     [90m 94 |[39m   mongoose[33m.[39mconnection[33m.[39mon([32m'error'[39m[33m,[39m 
(err) [33m=>[39m {[0m

      at NativeConnection.warn (src/config/db.js:91:13)
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.468 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.339 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.335 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.356 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.319 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.311 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.312 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.340 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.315 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.311 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.310 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.362 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.464 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.349 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.315 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.307 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.317 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.305 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.301 ms - 61[0m
[0mPOST /api/public/barberias/test-barberia/barberos/698a9589bf527bc25519488b/reservar [33m429[0m 0.315 ms - 61[0m
      at NativeConnection.set (node_modules/mongoose/lib/connection.js:149:12)
      at NativeConnection.onClose (node_modules/mongoose/lib/connection.js:1319:19)
      at NativeConnection._close (node_modules/mongoose/lib/connection.js:1268:12)
      at closeDB (tests/setup.js:33:5)
      at Object.<anonymous> (tests/race-condition-stress.test.js:22:9)

  ÔùÅ ƒöÑ Race Condition Stress Tests ÔÇ║ Concurrencia Extrema ÔÇ║ 10 requests simult├íneos al 
mismo horario - solo 1 debe tener ├®xito

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 0

    [0m [90m 86 |[39m
     [90m 87 |[39m             [90m// Solo 1 debe tener ├®xito[39m
    [31m[1m>[22m[39m[90m 88 |[39m             
expect(successful[33m.[39mlength)[33m.[39mtoBe([35m1[39m)[33m;[39m
     [90m    |[39m                                       [31m[1m^[22m[39m
     [90m 89 |[39m             
expect(failed[33m.[39mlength)[33m.[39mtoBe([35m9[39m)[33m;[39m
     [90m 90 |[39m
     [90m 91 |[39m             [90m// Verificar en DB que solo hay 1 reserva[39m[0m

      at Object.toBe (tests/race-condition-stress.test.js:88:39)

  ÔùÅ ƒöÑ Race Condition Stress Tests ÔÇ║ Concurrencia Extrema ÔÇ║ 50 requests simult├íneos - 
solo 1 debe tener ├®xito

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 0

    [0m [90m 123 |[39m             )[33m;[39m
     [90m 124 |[39m
    [31m[1m>[22m[39m[90m 125 |[39m             
expect(successful[33m.[39mlength)[33m.[39mtoBe([35m1[39m)[33m;[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 126 |[39m
     [90m 127 |[39m             [90m// Verificar en DB[39m
     [90m 128 |[39m             [36mconst[39m count [33m=[39m [36mawait[39m 
[33mReserva[39m[33m.[39mcountDocuments({[0m

      at Object.toBe (tests/race-condition-stress.test.js:125:39)

  ÔùÅ ƒöÑ Race Condition Stress Tests ÔÇ║ Performance bajo carga ÔÇ║ Maneja 20 reservas 
diferentes simult├íneas sin problemas

    expect(received).toBeGreaterThan(expected)

    Expected: > 15
    Received:   0

    [0m [90m 253 |[39m
     [90m 254 |[39m             [90m// Todas deber├¡an tener ├®xito (diferentes 
horarios)[39m
    [31m[1m>[22m[39m[90m 255 |[39m             
expect(successful[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m15[39m)[33m;[39m [90m// 
Al menos 75% de ├®xito[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 256 |[39m
     [90m 257 |[39m             [90m// Verificar que no hay duplicados[39m
     [90m 258 |[39m             [36mconst[39m reservas [33m=[39m [36mawait[39m 
[33mReserva[39m[33m.[39mfind({[0m

      at Object.toBeGreaterThan (tests/race-condition-stress.test.js:255:39)

Test Suites: 2 failed, 2 total
Tests:       19 failed, 3 passed, 22 total
Snapshots:   0 total
Time:        6.057 s
Ran all test suites matching /tests\\resenas.test.js|tests\\race-condition-stress.test.js/i.
Jest did not exit one second after the test run has completed.

'This usually means that there are asynchronous operations that weren't stopped in your tests. 
Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
